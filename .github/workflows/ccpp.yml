name: C/C++ CI

on: [push, pull_request]

jobs:
  build:

    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-16.04, ubuntu-18.04, macOS-10.14]

    steps:
    - uses: actions/checkout@master
    - name: basic example (C++14)
      run: |
        g++ -std=c++14 -I./include examples/basic.cpp -o basic14
        ./basic14
    - name: basic example (C++17)
      run: |
        g++ -std=c++17 -I./include examples/basic.cpp -o basic17
        ./basic17
    - name: constant expression example (C++14)
      run: |
        g++ -std=c++14 -I./include examples/constant.cpp -o constant14
        ./constant14
    - name: constant expression example (C++17)
      run: |
        g++ -std=c++17 -I./include examples/constant.cpp -o constant17
        ./constant17
